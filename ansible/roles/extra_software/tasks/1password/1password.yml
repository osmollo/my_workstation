
- name: "[1PASSWORD] install 1Password for {{ linux_distribution }}"
  include_tasks: "1password_{{ linux_distribution }}.yml"

- name: "[1PASSWORD] install 1Password cli"
  unarchive:
    src: https://cache.agilebits.com/dist/1P/op/pkg/v1.12.3/op_linux_amd64_v1.12.3.zip
    dest: /tmp
    remote_src: true

- name: "[1PASSWORD] move 1Password binary to /usr/local/bin"
  copy:
    src: /tmp/op
    dest: /usr/local/bin/op
    mode: 0755
    remote_src: true

- name: "[1PASSWORD] delete temporal files"
  file:
    path: "/tmp/{{ item }}"
    state: absent
  loop:
    - op
    - op.sig
